(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aab3681"],{"12d6":function(t,e,a){"use strict";var i=a("5a36"),n=a.n(i);n.a},"1e70":function(t,e,a){},"5a36":function(t,e,a){},6523:function(t,e,a){},"7a5e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 管理 "),a("Delete",{attrs:{"default-data":{}},on:{handleSubmit:t.handleSubmit}})],1)},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("姓名: "+t._s(e.row.name))]),a("p",[t._v("住址: "+t._s(e.row.address))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.name))])],1)])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[a("Edit",{attrs:{title:t.title,tag:t.tag,content:t.content,type:t.type,tableData:t.tableData},on:{handleSubmit:t.handleSubmit}})],1),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)},o=[],s=a("bb04"),r=a("bc3a"),c=a.n(r);c.a.defaults.baseURL="http://localhost:3002",c.a.defaults.withCredentials=!0,c.a.defaults.headers.post["Content-Type"]="application/x-www-from-urlencoded";var u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("编辑")]),a("el-dialog",{attrs:{title:"收货地址",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"分类","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:t.type},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-option",{attrs:{label:"原创",value:"原创"}}),a("el-option",{attrs:{label:"转载",value:"转载"}})],1)],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{attrs:{placeholder:t.tag},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}},[a("el-option",{attrs:{label:"HTML&CSS",value:"HTML&CSS"}}),a("el-option",{attrs:{label:"JavaScript",value:"JavaScript"}}),a("el-option",{attrs:{label:"Node",value:"Node"}}),a("el-option",{attrs:{label:"Vue&React",value:"Vue&React"}}),a("el-option",{attrs:{label:"other",value:"other"}})],1)],1),a("RichTextEdit",{ref:"RichTextEdit",attrs:{value:t.form.context,content:t.content}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1,t.onSubmit("form")}}},[t._v("确 定")])],1)],1)],1)},f=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("textarea",{staticStyle:{display:"none"},attrs:{id:"edit"},domProps:{value:t.content}})])},m=[],h={name:"RichText",data:function(){return{layedit:null,index:0}},methods:{handleClick:function(){}},props:["content"],mounted:function(){var t=this;layui.use("layedit",(function(){t.layedit=layui.layedit,t.index=t.layedit.build("edit",{})}))}},p=h,b=(a("fc73"),a("e962"),a("2877")),g=Object(b["a"])(p,d,m,!1,null,null,null),v=g.exports,y=s["a"].getArticleTitle,x={components:{RichTextEdit:v},data:function(){var t=this;return{gridData:[],dialogTableVisible:!1,dialogFormVisible:!1,typeVal:this.type,form:{name:"",type:"",title:"",tag:"",surface:""},rules:{type:[{required:!0,message:"请选择type"}],title:[{required:!0,message:"请输入title"}],tag:[{required:!0,message:"请输入tag"}],content:{validator:function(e,a,i){(function(){this.layedit.getContent(this.index)?i():i(new Error("请输入文章内容！"))}).call(t.$refs.richText)},required:!0}},formLabelWidth:"120px"}},mounted:function(){var t=this;y().then((function(e,a){t.tableData=e.data.data})).catch((function(t){}))},props:["title","tag","content","type"],created:function(){console.log(this,"222")},methods:{onSubmit:function(t){var e=this;this.form.type=this.form.type?this.form.type:this.type,this.form.title=this.form.title?this.form.title:this.title,this.form.tag=this.form.tag?this.form.tag:this.tag,this.form.content=this.form.content?this.form.content:this.content,this.form.surface=this.form.surface?this.form.surface:this.surface,this.$refs[t].validate((function(t){if(!t)return!1;e.$emit("handleSubmit",{type:e.form.type,title:e.form.title,tag:e.form.tag,surface:e.form.surface,content:function(){return this.layedit.getContent(this.index)}.call(e.$refs.RichTextEdit)})}))}}},w=x,S=(a("12d6"),Object(b["a"])(w,u,f,!1,null,null,null)),_=S.exports,$=s["a"].getArticleTitle,k=s["a"].postArticleUpdate,E={data:function(){return{ifShow:!0,tableData:[],index:"",title:"",tag:"",type:"",content:""}},components:{Edit:_},watch:{tableData:function(){}},methods:{handleEdit:function(t,e){this.index=t,this.title=e.title,this.tag=e.tag,this.type=e.type,this.content=e.content},handleDelete:function(t,e){this.ifShow=!1,this.$emit("handleSubmit",{title:e.title})},handleSubmit:function(t){var e=this;this.fullscreenLoading=!0,console.log("111",t),k(t).then((function(t,a){e.$message({message:"修改成功",type:"success",duration:2e3}),setTimeout((function(){e.fullscreenLoading=!1}),3e3)})).catch((function(){e.$message({message:"修改失败",type:"error",duration:2e3})}))}},mounted:function(){console.log(this,333,this.title)},created:function(){var t=this;$().then((function(e,a){t.tableData=e.data.data})).catch((function(t){}))}},T=E,D=Object(b["a"])(T,l,o,!1,null,null,null),C=D.exports,V=s["a"].postArticleDel,L={name:"Manager",data:function(){return{}},components:{Delete:C,Edit:_},methods:{handleSubmit:function(t){var e=this;this.fullscreenLoading=!0,console.log("111"),V(t).then((function(t,a){e.$message({message:"删除成功",type:"success",duration:2e3}),setTimeout((function(){e.fullscreenLoading=!1}),3e3)})).catch((function(){e.$message({message:"删除失败",type:"error",duration:2e3})}))}}},R=L,F=Object(b["a"])(R,i,n,!1,null,null,null);e["default"]=F.exports},e962:function(t,e,a){"use strict";var i=a("1e70"),n=a.n(i);n.a},fc73:function(t,e,a){"use strict";var i=a("6523"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-4aab3681.f62d82f5.js.map